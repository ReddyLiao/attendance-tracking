import{a as e}from"./index.a3134965.js";import{_ as a}from"./DatePickRange.1a8dc73a.js";import{j as t,e as l,b as n,a as s,r as o,o as r,c as u,l as c,m as i,F as b,K as p,t as d}from"./vendor.c1a3f826.js";const m={components:{DatePickRange:a},setup(){t((()=>{c()}));const a=l(new Date),o=n({size:1e3,type:"work"}),r=l({}),u=n(new Map),c=async()=>{const t=await e(o);r.value=t.data.body.content,o.timestamp1=s((()=>Date.parse(a.value.start))),o.timestamp2=s((()=>Date.parse(a.value.end))),u.clear(),console.log(r.value);for(const e of r.value){let a=e.key.date.substr(0,7),t=(e.duration||"").replace("PT","").replace("H",":").replace("M",":").replace("S","").split(":");t=3==t.length?60*(60*new Number(t[0])+new Number(t[1]))+new Number(t[2]):2==t.length?60*new Number(t[0])+new Number(t[1]):new Number(t[0]);let l=u.get(a);null==l?u.set(a,t):u.set(a,l+t)}console.log(r.value),console.log(u)};return{tempMap:u,getSumWorkingTime:c,range:a}}},g=c("h3",null,"Attendance Report",-1),v=c("hr",null,null,-1),f={class:"navbar navbar-expand-lg navbar-light bg-light"},h={class:"container-fluid"},k=c("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[c("span",{class:"navbar-toggler-icon"})],-1),y={class:"collapse navbar-collapse"},M={class:"navbar-nav me-auto mb-2 mb-lg-0"},w={class:"d-flex align-items-center"},D={class:"d-flex align-items-center"},S=c("button",{type:"button",class:"btn btn-success"}," Daily ",-1),x=c("button",{type:"button",class:"btn btn-success"}," Weekly ",-1),N=c("button",{type:"button",class:"btn btn-success"}," Monthly ",-1),T={class:"table-responsive"},W=c("h5",null,"Statusï¼šWork",-1),j={class:"table mt-3"},P=c("thead",null,[c("tr",null,[c("th",null,"Date"),c("th",null,"Total Working Time")])],-1);m.render=function(e,a,t,l,n,s){const m=o("DatePickRange"),R=o("router-link");return r(),u(b,null,[g,v,c("nav",f,[c("div",h,[k,c("div",y,[c("ul",M,[c("li",w,[c(m,{modelValue:l.range,"onUpdate:modelValue":a[1]||(a[1]=e=>l.range=e)},null,8,["modelValue"]),c("button",{class:"btn btn-outline-success",onClick:a[2]||(a[2]=e=>l.getSumWorkingTime())}," Search ")])]),c("div",D,[c(R,{class:"nav-link",to:"/record/report"},{default:i((()=>[S])),_:1}),c(R,{class:"nav-link",to:"/report/reportWeekly"},{default:i((()=>[x])),_:1}),c(R,{class:"nav-link",to:"/report/reportmonthly"},{default:i((()=>[N])),_:1})])])])]),c("div",T,[W,c("table",j,[P,c("tbody",null,[(r(!0),u(b,null,p(l.tempMap,(e=>(r(),u("tr",{key:e},[c("td",null,d(e[0]),1),c("td",null,d(`${Math.floor(e[1]/3600)}hr ${Math.floor((e[1]-3600*Math.floor(e[1]/3600))/60)} min ${parseInt(e[1]-3600*Math.floor(e[1]/3600)-60*Math.floor((e[1]-3600*Math.floor(e[1]/3600))/60))}s`),1)])))),128))])])])],64)};export default m;
